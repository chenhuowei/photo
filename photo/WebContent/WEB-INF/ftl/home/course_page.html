<!DOCTYPE HTML>
<html>
	<head>
	 <meta charset="utf-8">
		<title>海大摄影网.教程列表</title>
		<link href="${rq.contextPath}/assets/css/photo_style.css" rel='stylesheet' type='text/css' />
		<link href="${rq.contextPath}/assets/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  		<link rel="stylesheet" href="${rq.contextPath}/assets/css/main.css">
		<link href="${rq.contextPath}/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
		</script>
  		<!-- //Global CSS for the page and tiles -->
		<!---start-click-drop-down-menu----->
		<script src="${rq.contextPath}/assets/js/jquery.min.js"></script>
        <!----start-dropdown--->
         <script type="text/javascript">
			var $ = jQuery.noConflict();
				$(function() {
					$('#activator').click(function(){
						$('#box').animate({'top':'0px'},500);
					});
					$('#boxclose').click(function(){
					$('#box').animate({'top':'-700px'},500);
					});
				});
				$(document).ready(function(){
				$(".toggle_container").hide(); 
				$(".trigger").click(function(){
					$(this).toggleClass("active").next().slideToggle("slow");
						return false; //Prevent the browser jump to the link anchor
				});
									
			});
		</script>
		<style type="text/css">
			.green{
				color:green;
				margin: 1px;
			}
			img{
				width: 550px;
				<!--height: 320px;-->
			}
			.user_img{
				width: 40px;
				height: 40px;
			}
			td{
				width: 30%;
			}
			.para p{
				
				word-break:break-all;

			}
		</style>
        <!----//End-dropdown--->
		<!---//End-click-drop-down-menu----->
	</head>
	<body>
		<!---start-wrap---->
			<!---start-header---->
				<div class="header">
				<div class="wrap">
				<div class="nav-icon">
				</div>
				 <div class="box" id="box">
					 <div class="box_content">        					                         
						<div class="box_content_center">
						 	<div class="form_content">
								<div class="menu_box_list">
									<ul>
										<li><a href="${rq.contextPath}/index.html"><span>主页</span></a></li>
										<li><a href="${rq.contextPath}/photo/list.html"><span>作品展示</span></a></li>
										<li style="background-color: #C9C9C9;"><a href="${rq.contextPath}/course/list.html"><span>摄影教程</span></a></li>
										<li><a href="${rq.contextPath}/user/zone.html" ><span >个人空间</span></a></li>
										<div class="clear"> </div>
									</ul>
								</div>
							</div>                                  
						</div> 	
					</div> 
				</div>       	  
				<div class="top-searchbar">
					<form action="${rq.contextPath}/search.html" method="post">
						<input name="keyword" type="text" placeholder="请输入关键字"/><input type="submit" value="" />
					</form>
				</div>
				<div class="userinfo">
					<div class="user">
						<ul>
						<#if user == null>
							<li><a href="${rq.contextPath}/login.html" style="color:red"><span>游客[登录]</span></a></li>
							<#else>
							<li><a href="#"><img class="user_img" src="${rq.contextPath}/assets/images/pic12.jpg" title="user-name" /><span>${user.name}</span></a>
							<a href="${rq.contextPath}/logout.html" style="color:red"><span>[退出]</span></a></li>
						</#if>
						</ul>
					</div>
				</div>
				<div class="clear"> </div>
			</div>
		</div>
		<!---//End-header---->
		<!---start-content---->
		<div class="content">
			<div class="wrap">
			 <div id="main" role="main">
			  <a  style="font-size: 18px;color:green" href="${rq.contextPath}/course/write.html"><sub><li class="fa fa-edit">发表</li></sub></a>
			<div style="width: 100px" >
			    主题类型：<select id="select_theme" class="" onchange="change()">
			      <option value="全部">全部</option>
			      <option value="摄影技巧">摄影技巧</option>
			      <option value="摄影后期">摄影后期</option>
			      <option value="摄影设备">摄影设备</option>
			    </select>
			  </div>
			      <ul id="tiles">
			         <div class="container">
			         
                <div>
                 <table class="table">
				    <tbody>
				      
					<#list courses as course>
						<#if course_index%2==0>
							<tr>
						</#if>
						<td>
                       		 <h3 align="center">${course.title}</h3>
                       		 <p><i class="fa fa-user green"></i>${course.author}</p> 
							<p><i class="fa fa-clock-o green"></i>${course.createTime}</p> 
							<p><i class="fa fa-location-arrow green"></i>${course.type}</p> 
                       		 <div class="para" style="margin-left: 5px">
                       			${course.content}
                       		<a href="${rq.contextPath}/course/single.html?courseId=${course.id}">前往阅读>></a>
                       		</div>
                       	</td>
						<#if course_index%2!=0>
							</tr>
						</#if>
            		</#list>
					</tbody>
					</table>
                    </div>
					
                    
                </div>
            </div>
			      </ul>
			    </div>
			</div>
		</div>
		<!---//End-content---->
		<!----wookmark-scripts---->
		  <script src="${rq.contextPath}/assets/js/jquery.imagesloaded.js"></script>
		  <script src="${rq.contextPath}/assets/js/jquery.wookmark.js"></script>
		  <script type="text/javascript">
		  $(function(){
	        	 if ('${theme}' != ''){
	        		 $('#select_theme').val('${theme}');
	        	 }else{
	        		 $('#select_theme').val('全部');
	        		 
	        	 }
	        	 
	         })
		  function change(){
			 var v = $('#select_theme option:selected').val();
			 location.href=encodeURI("${rq.contextPath}/course/list.html?theme="+v)
		  }
		  
		  
		    (function ($){
		      var $tiles = $('#tiles'),
		          $handler = $('li', $tiles),
		          $main = $('#main'),
		          $window = $(window),
		          $document = $(document),
		          options = {
		            autoResize: true, // This will auto-update the layout when the browser window is resized.
		            container: $main, // Optional, used for some extra CSS styling
		            offset: 20, // Optional, the distance between grid items
		            itemWidth:280 // Optional, the width of a grid item
		          };
		      /**
		       * Reinitializes the wookmark handler after all images have loaded
		       */
		      function applyLayout() {
		        $tiles.imagesLoaded(function() {
		          // Destroy the old handler
		          if ($handler.wookmarkInstance) {
		            $handler.wookmarkInstance.clear();
		          }
		
		          // Create a new layout handler.
		          $handler = $('li', $tiles);
		          $handler.wookmark(options);
		        });
		      }
		      /**
		       * When scrolled all the way to the bottom, add more tiles
		       */
		      function onScroll() {
		        // Check if we're within 100 pixels of the bottom edge of the broser window.
		        var winHeight = window.innerHeight ? window.innerHeight : $window.height(), // iphone fix
		            closeToBottom = ($window.scrollTop() + winHeight > $document.height() - 100);
		
		        if (closeToBottom) {
		          // Get the first then items from the grid, clone them, and add them to the bottom of the grid
		          var $items = $('li', $tiles),
		              $firstTen = $items.slice(0, 10);
		          $tiles.append($firstTen.clone());
		
		          applyLayout();
		        }
		      };
		
		      // Call the layout function for the first time
		      applyLayout();
		
		      // Capture scroll event.
		      $window.bind('scroll.wookmark', onScroll);
		    })(jQuery);
		  </script>
		<!----//wookmark-scripts---->
		<!----start-footer--->
		<div class="">
		</div>
		<!----//End-footer--->
		<!---//End-wrap---->
		
	</body>
</html>

